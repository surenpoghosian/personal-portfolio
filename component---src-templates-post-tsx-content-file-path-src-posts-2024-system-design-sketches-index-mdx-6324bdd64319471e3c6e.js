/*! For license information please see component---src-templates-post-tsx-content-file-path-src-posts-2024-system-design-sketches-index-mdx-6324bdd64319471e3c6e.js.LICENSE.txt */
(self.webpackChunksurenpoghosian_github_io=self.webpackChunksurenpoghosian_github_io||[]).push([[336],{9016:function(e,t,n){var a=n(5972).k5;e.exports.w=function(e){return a({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M11.953,2C6.465,2,2,6.486,2,12s4.486,10,10,10s10-4.486,10-10S17.493,2,11.953,2z M12,20c-4.411,0-8-3.589-8-8 s3.567-8,7.953-8C16.391,4,20,7.589,20,12S16.411,20,12,20z"}},{tag:"path",attr:{d:"M11 7H13V14H11zM11 15H13V17H11z"}}]})(e)}},3036:function(e,t,n){var a=n(5972).k5;e.exports.C=function(e){return a({tag:"svg",attr:{viewBox:"0 0 16 16",fill:"currentColor"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M8 16A8 8 0 108 0a8 8 0 000 16zm.93-9.412l-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588zM8 5.5a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"}}]})(e)}},5018:function(e,t,n){var a=n(5972).k5;e.exports.w=function(e){return a({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}},{tag:"line",attr:{x1:"16",y1:"2",x2:"16",y2:"6"}},{tag:"line",attr:{x1:"8",y1:"2",x2:"8",y2:"6"}},{tag:"line",attr:{x1:"3",y1:"10",x2:"21",y2:"10"}}]})(e)}},2572:function(e,t,n){var a=n(5972).k5;e.exports.O=function(e){return a({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"}},{tag:"polyline",attr:{points:"12 6 12 12 16 14"}}]})(e)}},4944:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return c}});var a=n(8453),s=n(6540);function r(e){const t=Object.assign({p:"p",ul:"ul",li:"li",a:"a",blockquote:"blockquote",h2:"h2",span:"span"},(0,a.RP)(),e.components);return s.createElement(s.Fragment,null,s.createElement(t.p,null,"System design sketches for popular system design interview questions:"),"\n",s.createElement(t.ul,null,"\n",s.createElement(t.li,null,s.createElement(t.a,{href:"#social-network"},"Design Social Network")," (like Facebook, Twitter, Instagram, Reddit)"),"\n",s.createElement(t.li,null,s.createElement(t.a,{href:"#ride-sharing-app"},"Design Ride-sharing App")," (like Uber, Lyft)"),"\n",s.createElement(t.li,null,s.createElement(t.a,{href:"#messenger"},"Design Messenger")," (like WhatsApp, Telegram, Viber)"),"\n",s.createElement(t.li,null,s.createElement(t.a,{href:"#video-streaming-app"},"Design Video Streaming App")," (like YouTube, Netflix)"),"\n",s.createElement(t.li,null,s.createElement(t.a,{href:"#file-hosting-app"},"Design File Hosting App")," (like GoogleDrive, Dropbox)"),"\n",s.createElement(t.li,null,s.createElement(t.a,{href:"#web-crawler"},"Design Web Crawler")),"\n"),"\n",s.createElement(t.blockquote,null,"\n",s.createElement(t.p,null,"See the sketches in full resolution at ",s.createElement(t.a,{href:"https://okso.app/showcase/system-design"},"okso.app/showcase/system-design")),"\n"),"\n",s.createElement("iframe",{width:"100%",height:"485",src:"https://www.youtube.com/embed/d0_XAN29g7U?si=T5Bbb6rJ06Ku20_v",title:"YouTube video player",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",referrerpolicy:"strict-origin-when-cross-origin",allowfullscreen:!0}),"\n",s.createElement(t.h2,{id:"social-network",style:{position:"relative"}},"Social Network",s.createElement(t.a,{href:"#social-network","aria-label":"social network permalink",className:"gatsby-remark-autolink-header-anchor after"},s.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}}))),"\n",s.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">Functional requirements:\n------------------------\n- Follow people\n- See followers and falowees\n- Create posts (text, image, url, @mentions)\n- Like posts\n- View user feed\n- View home feed\n\n\nNon-functional requirements:\n----------------------------\n- Add post &lt;500ms\n- View feed &lt;500ms\n- Post in feed with ~2 mins delay is ok\n- Billions of users\n- Unlimited followers\n\n\nCore entities:\n--------------\n- User\n- Follow\n- Post\n\n\nAPI (RPC-like):\n---------------\n- POST /getFollowers     {userId}\n- POST /getFollowees     {userId}\n- POST /followUser       {userId}\n\n- POST /createPost       {text}\n- POST /likePost         {postId}\n\n- POST /getHomeFeed      {userId}\n- POST /getUserFeed      {userId}</code></pre></div>'}}),"\n",s.createElement(t.p,null,"Design sketch:"),"\n","\n",s.createElement(t.p,null,"Deep dives:"),"\n",s.createElement(t.ul,null,"\n",s.createElement(t.li,null,s.createElement(t.a,{href:"https://okso.app/showcase/system-design/page/d0af682e-08cb-4b6f-3e12-1f5c1d3f8aec"},"Social network: System design sketch")," (okso.app)"),"\n",s.createElement(t.li,null,s.createElement(t.a,{href:"https://www.hellointerview.com/learn/system-design/answer-keys/fb-news-feed"},"Facebook News Feed")," (hellointerview)"),"\n",s.createElement(t.li,null,s.createElement(t.a,{href:"https://www.youtube.com/watch?v=S2y9_XYOZsg"},"Instagram + Twitter + Facebook + Reddit")," (Jordan has no life)"),"\n"),"\n",s.createElement(t.h2,{id:"ride-sharing-app",style:{position:"relative"}},"Ride-Sharing App",s.createElement(t.a,{href:"#ride-sharing-app","aria-label":"ride sharing app permalink",className:"gatsby-remark-autolink-header-anchor after"},s.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}}))),"\n",s.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">Functional requirements:\n------------------------\n- Rider gets estimated fare (by Start and Destination locations)\n- Rider requests a ride based on the estimate\n- Driver accepts/denies request + Navigates to pickup/drop-off\n\n\nNon-functional requirements:\n----------------------------\n- Low latency for rider-driver matching (&lt;1min)\n- Consistency of rider-driver 1:1 matching\n  - For one ride, only one driver will get request at a time\n- Highly available outside matching\n- Handle high-throughput (peak hours, popular events)\n\n\nCore entities:\n--------------\n- Rider\n- Driver\n- Ride\n- Location\n\n\nAPI:\n---------------\n- POST /getEstimate({from, to}) --\x3e Partial&lt;Ride>\n\n- POST /requestRide({ride_id}) --\x3e Ride\n\n- POST /getRide({ride_id})\n\n  - gets the latest ride entity to display the\n    ride details for both rider and driver apps\n\n- POST /updateLocation({lat, lon})\n\n  - both driver and rider can update their locations\n    which may be used to display their on the map\n  - drivers might update their location i.e. once\n    per 5 seconds (it is needed for matching)\n  - however this can be optimised on the client side,\n    where we might say that location update is\n    proportional to driver speed: for still drivers\n    we update location rarely, for moving - more often\n\n- POST /acceptRide({ride_id, accept})\n  - ride is being accepted by the driver\n\n- POST /updateRide({ride_id, status})</code></pre></div>'}}),"\n",s.createElement(t.p,null,"Design sketch:"),"\n",s.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<span\n      class="gatsby-resp-image-wrapper"\n      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1000px; "\n    >\n      <span\n    class="gatsby-resp-image-background-image"\n    style="padding-bottom: 52%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABYlAAAWJQFJUiTwAAABhklEQVR42n2SjW6DMAyEef+nXFVpbcVgkH8SJ7ezaatJkxYpCEhyPn+XKaWEfd/hvUfOGcuyoJSCP0M65+DkWl5QW0U8BDEGHMeB3rttm+73Oy6XC9Z1hXMO1+sVIQRbHGOcYkMwtoSxJn7w4GimHUs1MyLyrju9lP8dFOj5QIvFijRpKG3ApwI1VGt9F5/0RVvUnzrUnWJ4KkH3CYtKKBCX0VozR0og5oKViPSM/jdBtTzPMx6Ph3HYts02KM8QPLqQDx1JEwRyjk/muQpSacZQqP52qI9aDwoUC0bdxRitiHc7vm4f8NuCHihMh/u2W8GggRThGXd2VCNnwKRB6Ny+F6ZVrP1Cd5qcCicWKkclQ4fhyStRgOuR/DK5Ct2PzlDYCXrDpAdTpDO3nGkOi9fa18raugXHNQxyHt0Kh1yx+YTP2w05ebTiuaWeLRv+PgxsJ5dW2xuyDgsi0QFbbGT5CuVoHXGfIXTfKTZeDH8PP38juvD36jAEKuB1NX/dqaf782L/AKkyDtY+XrIlAAAAAElFTkSuQmCC\'); background-size: cover; display: block;"\n  ></span>\n  <img\n        class="gatsby-resp-image-image"\n        alt="Ride-sharing app"\n        title=""\n        src="/static/f9d629ee53ecdb0784f7da51fa8656b2/00d43/demo-31-system-design-sketches-ride-sharing.png"\n        srcset="/static/f9d629ee53ecdb0784f7da51fa8656b2/63868/demo-31-system-design-sketches-ride-sharing.png 250w,\n/static/f9d629ee53ecdb0784f7da51fa8656b2/0b533/demo-31-system-design-sketches-ride-sharing.png 500w,\n/static/f9d629ee53ecdb0784f7da51fa8656b2/00d43/demo-31-system-design-sketches-ride-sharing.png 1000w,\n/static/f9d629ee53ecdb0784f7da51fa8656b2/aa440/demo-31-system-design-sketches-ride-sharing.png 1500w,\n/static/f9d629ee53ecdb0784f7da51fa8656b2/e8950/demo-31-system-design-sketches-ride-sharing.png 2000w,\n/static/f9d629ee53ecdb0784f7da51fa8656b2/92bee/demo-31-system-design-sketches-ride-sharing.png 2340w"\n        sizes="(max-width: 1000px) 100vw, 1000px"\n        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"\n        loading="lazy"\n        decoding="async"\n      />\n    </span>'}}),"\n",s.createElement(t.p,null,"Deep dives:"),"\n",s.createElement(t.ul,null,"\n",s.createElement(t.li,null,s.createElement(t.a,{href:"https://okso.app/showcase/system-design/page/3033cade-7fcb-420a-0937-64245b7a1dc4"},"Ride-sharing platform: System design sketch")," (okso.app)"),"\n",s.createElement(t.li,null,s.createElement(t.a,{href:"https://www.hellointerview.com/learn/system-design/answer-keys/uber"},"Design Uber")," (hellointerview)"),"\n"),"\n",s.createElement(t.h2,{id:"messenger",style:{position:"relative"}},"Messenger",s.createElement(t.a,{href:"#messenger","aria-label":"messenger permalink",className:"gatsby-remark-autolink-header-anchor after"},s.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}}))),"\n",s.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">Functional requirements:\n------------------------\n- Group chat (&lt;100 users)\n- Send message\n- Receive message\n- Persist messages (user messages are\n  available on multiple devices)\n\n\nNon-functional requirements:\n----------------------------\n- Low latency for message delivery (&lt;500ms)\n- No lost messages (delivery guarantee)\n\n\nCore entities:\n--------------\n- Users\n- Groups\n- Messages\n\n\nAPI:\n---------------\n- createGroup({users: [], name: \'\'}) -> {group_id}\n- joinGroup({group_id}) -> "ACK"/ "ERR"\n- quitGroup({group_id}) -> "ACK"/ "ERR"\n- getMyGroups() -> {groups: []}\n- getGroupMessages({group_id, max_message_id, min_message_id}) -> {messages: []}\n\nWebSocket:\n- connect()\n- sendMessage({group_id, message, media: []}) -> "ACK"/ "ERR"\n- onGroupUpdated({group_id, participants}) -> "ACK"\n- onMessage({chat_id, user_id, message, attachments}) -> "ACK"</code></pre></div>'}}),"\n",s.createElement(t.p,null,"Design sketch:"),"\n",s.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<span\n      class="gatsby-resp-image-wrapper"\n      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1000px; "\n    >\n      <span\n    class="gatsby-resp-image-background-image"\n    style="padding-bottom: 67.19999999999999%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAABYlAAAWJQFJUiTwAAABxUlEQVR42m1T246rMAzs///iSvtwVCioFEJIQu6znnDobtWmSnOzx+OxuTzMHd/TF/rwD3tx4HDOYbjdsKgF1tl2l1JC33WYpgnbtiGEgE/jUnJBLfU4lSyeBj4mmD2ipozqxFHes0ztIrz3sNa2ADHGBk4CT8Bjqe2HSkCHJM4xV4R9h1MbGJRBlLYwxjSAXd4IyPUD4O+oxJW/UgtiiMjiNCuL8WEwjCOGYcCyLNBao5TSmBKUa875HVAp1WaW9LOXtLcAqzes2sDGit2HZ8oEut/vWNe17SnHhajUgUYUmilxksU8zwLgn8Z937fJ/TmYNjMiTmNIsJtUdJR0uCdAECOCTowubFsBZD5EzySFOqQ5Cslg9GOQZ8p8PCMlb7BbLefU2ChJ59TW54MJU2T7nNqdWr4UhYa8rDnIjG0/jgPirqVtwn+bQ3gGJ6OzdSjVyfilKHxktHMU6cWihK09KspidX3X5CAwGVJr3jNt2lxeW6a2aEqvrbeSpM2mj6Ibz9frtRWK7AhEWwITiCv939omaYe5G6E2jbBJw+7sxdSc2XtnN/wtzMun93ZjIiC9V48SAlqh+ON7JjMWg6CfwAj4A0Fq+ESsGeeEAAAAAElFTkSuQmCC\'); background-size: cover; display: block;"\n  ></span>\n  <img\n        class="gatsby-resp-image-image"\n        alt="Messenger"\n        title=""\n        src="/static/968ea39ed8f78c9b4c7dbfcc26ca1f26/00d43/demo-31-system-design-sketches-messenger.png"\n        srcset="/static/968ea39ed8f78c9b4c7dbfcc26ca1f26/63868/demo-31-system-design-sketches-messenger.png 250w,\n/static/968ea39ed8f78c9b4c7dbfcc26ca1f26/0b533/demo-31-system-design-sketches-messenger.png 500w,\n/static/968ea39ed8f78c9b4c7dbfcc26ca1f26/00d43/demo-31-system-design-sketches-messenger.png 1000w,\n/static/968ea39ed8f78c9b4c7dbfcc26ca1f26/aa440/demo-31-system-design-sketches-messenger.png 1500w,\n/static/968ea39ed8f78c9b4c7dbfcc26ca1f26/e8950/demo-31-system-design-sketches-messenger.png 2000w,\n/static/968ea39ed8f78c9b4c7dbfcc26ca1f26/497e9/demo-31-system-design-sketches-messenger.png 2064w"\n        sizes="(max-width: 1000px) 100vw, 1000px"\n        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"\n        loading="lazy"\n        decoding="async"\n      />\n    </span>'}}),"\n",s.createElement(t.p,null,"Deep dives:"),"\n",s.createElement(t.ul,null,"\n",s.createElement(t.li,null,s.createElement(t.a,{href:"https://okso.app/showcase/system-design/page/4c662fd7-37d4-4864-208c-500f88565839"},"Messenger: System design sketch")," (okso.app)"),"\n",s.createElement(t.li,null,s.createElement(t.a,{href:"https://www.youtube.com/watch?v=-3Ge8EooS3g"},"Facebook Messenger + WhatsApp")," (Jordan has no life)"),"\n",s.createElement(t.li,null,s.createElement(t.a,{href:"https://www.youtube.com/watch?v=2Ejdj6QdDD0"},"Messenger/WhatsApp Design Deep Dive")," (Jordan has no life)"),"\n",s.createElement(t.li,null,s.createElement(t.a,{href:"https://www.hellointerview.com/learn/system-design/answer-keys/whatsapp"},"Design Whatsapp or Messenger")," (hellointerview)"),"\n"),"\n",s.createElement(t.h2,{id:"video-streaming-app",style:{position:"relative"}},"Video Streaming App",s.createElement(t.a,{href:"#video-streaming-app","aria-label":"video streaming app permalink",className:"gatsby-remark-autolink-header-anchor after"},s.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}}))),"\n",s.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">Functional requirements:\n------------------------\n- Upload video\n- Watch video (read-heavy)\n- Comment on video\n\n\nNon-functional requirements:\n----------------------------\n- Reliable uploads (no corrupted/missing videos)\n- Read-heavy (read/write ratio ~100:1)\n- Availability > Consistency (1-2 min delay between upload and feed is ok)\n- Low latency (before video starts playing)\n\n\nCore entities:\n--------------\n- User\n- Video Metadata\n- Video Chunks\n- Users\n- Comments\n\n\nAPI (RPC-like):\n---------------\n- POST /initiateUpload  {title, description, video, ...}}\n  - server responds with S3 private upload URL\n  - the actual video upload is going directly from client to S3\n\n- GET /watch   {video_id}\n  - returns video chunks metadata\n    - S3 (or CDN) URLs to manifest/playlist files\n  - video streaming happens directly from CDNs\n  - download by chunks (buffering, ~1Mb), no need to load all</code></pre></div>'}}),"\n",s.createElement(t.p,null,"Design sketch:"),"\n","\n",s.createElement(t.p,null,"Deep dives:"),"\n",s.createElement(t.ul,null,"\n",s.createElement(t.li,null,s.createElement(t.a,{href:"https://okso.app/showcase/system-design/page/2ef00091-cdfa-4f07-28cf-d0b6e4207de5"},"Video streaming platform: System design sketch")," (okso.app)"),"\n",s.createElement(t.li,null,s.createElement(t.a,{href:"https://www.youtube.com/watch?v=jPKTo1iGQiE"},"Design Youtube")," (NeetCode)"),"\n",s.createElement(t.li,null,s.createElement(t.a,{href:"https://www.youtube.com/watch?v=43bB7oSn190"},"Netflix + YouTube")," (Jordan has no life)"),"\n",s.createElement(t.li,null,s.createElement(t.a,{href:"https://www.youtube.com/watch?v=ghYbFgeqXa0"},"System Design: YouTube")," (System Design Fight Club)"),"\n"),"\n",s.createElement(t.h2,{id:"file-hosting-app",style:{position:"relative"}},"File Hosting App",s.createElement(t.a,{href:"#file-hosting-app","aria-label":"file hosting app permalink",className:"gatsby-remark-autolink-header-anchor after"},s.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}}))),"\n",s.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">Functional requirements:\n------------------------\n- Upload file\n- Download file\n- Sync files across devices\n\n\nNon-functional requirements:\n----------------------------\n- Availability over consistency\n  - Download the older version of\n    the file instead of waiting\n    for a new version to propagate\n    is ok\n- low latency for uploads and downloads\n- support large files (50Gb)\n  - resumable uploads\n- high data integrity (accurate syncs)\n\n\nCore entities:\n--------------\n- File (row bytes)\n- File Metadata\n- Users\n\n\nAPI:\n---------------\n- POST /uploadFile({metadata}) --\x3e {upload_id, presigned_url}\n\n- POST /getFile({file_id}) --\x3e {file{}, metadata}\n\n- POST /getChanges({since}) --\x3e file_metadata[]</code></pre></div>'}}),"\n",s.createElement(t.p,null,"Design sketch:"),"\n","\n",s.createElement(t.p,null,"Deep dives:"),"\n",s.createElement(t.ul,null,"\n",s.createElement(t.li,null,s.createElement(t.a,{href:"https://okso.app/showcase/system-design/page/868e746d-0276-40e1-2bcf-b42bceae1b8f"},"File hosting app")," (okso.app)"),"\n",s.createElement(t.li,null,s.createElement(t.a,{href:"https://www.hellointerview.com/learn/system-design/answer-keys/dropbox"},"Design Dropbox")," (hellointerview)"),"\n"),"\n",s.createElement(t.h2,{id:"web-crawler",style:{position:"relative"}},"Web Crawler",s.createElement(t.a,{href:"#web-crawler","aria-label":"web crawler permalink",className:"gatsby-remark-autolink-header-anchor after"},s.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}}))),"\n",s.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">Functional requirements:\n------------------------\n- Scrape the web starting from seed URLs\n- Extract and store text data\n\n\nNon-functional requirements:\n----------------------------\n- Fault-tolerant\n- Politeness (respect robots.txt, don\'t DDoS)\n- Scale to 1B pages\n- Efficient (crawl within a week)\n\n\nCore entities:\n--------------\n- URLs\n- Text data\n- Domain metadata\n\n\nInterface:\n----------\n- input: seed URLs\n- output: text data\n\n\nData Flow:\n----------\n1. Take seed URLs from a frontier and the IP from DNS\n2. Fetch HTML\n3. Extract text\n4. Store text in the database\n5. Extract URLs from the page and add then to the frontier\n6. Repeat steps 1-5 until all URLs are crawled</code></pre></div>'}}),"\n",s.createElement(t.p,null,"Design sketch:"),"\n","\n",s.createElement(t.p,null,"Deep dives:"),"\n",s.createElement(t.ul,null,"\n",s.createElement(t.li,null,s.createElement(t.a,{href:"https://okso.app/showcase/system-design/page/7c557108-277c-4a77-12ce-7622b3493420"},"Web-crawler app: System design sketch")," (okso.app)"),"\n",s.createElement(t.li,null,s.createElement(t.a,{href:"https://www.hellointerview.com/learn/system-design/answer-keys/web-crawler"},"Design a Web Crawler")," (hellointerview)"),"\n",s.createElement(t.li,null,s.createElement(t.a,{href:"https://www.youtube.com/watch?v=MdWvMX4J-Vc"},"Design a Web Crawler")," (Jordan has no life)"),"\n",s.createElement(t.li,null,s.createElement(t.a,{href:"https://www.youtube.com/watch?v=BKZxZwUgL3Y"},"System Design distributed web crawler")," (Tech Dummies Narendra)"),"\n"))}var i=function(e){void 0===e&&(e={});const{wrapper:t}=Object.assign({},(0,a.RP)(),e.components);return t?s.createElement(t,e,s.createElement(r,e)):r(e)},l=n(9713);const o=e=>{const{data:t,children:n}=e;return s.createElement(l.A,{post:t},n)};function c(e){return s.createElement(o,e,s.createElement(i,e))}},9713:function(e,t,n){"use strict";n.d(t,{A:function(){return p}});var a=n(6540),s=n(90),r=n(5018),i=n(2572),l=n(7257),o=n(6911),c=n(6835),d=n(2807);var m=e=>{var t,n,s,m,u,p,g;const{post:h,children:f}=e,w=null!=h&&null!==(t=h.mdx)&&void 0!==t&&null!==(n=t.frontmatter)&&void 0!==n&&n.date?a.createElement(o.A,{className:"mr-6 mb-6 text-gray-500 text-sm"},a.createElement(r.w,{className:"mr-1"}),null==h||null===(s=h.mdx)||void 0===s?void 0:s.frontmatter.date):null,v=null!=h&&null!==(m=h.mdx)&&void 0!==m&&m.timeToRead?a.createElement(o.A,null,a.createElement(i.O,{className:"mr-1"}),(0,c.d)(null==h||null===(u=h.mdx)||void 0===u?void 0:u.timeToRead)," min to read"):null;return a.createElement("div",{className:"flex flex-col items-center"},a.createElement("article",{className:"w-full prose prose-sm sm:prose overflow-hidden prose-red",style:{maxWidth:"860px"}},a.createElement(l.A,null,(null===(p=h.mdx)||void 0===p||null===(g=p.frontmatter)||void 0===g?void 0:g.title)||""),a.createElement(o.A,null,w,v),a.createElement(d.A,null,f)))},u=n(5366);var p=e=>{var t,n,r,i,l,o,c,d,p,g,h;const{post:f,children:w}=e;return a.createElement(s.A,null,a.createElement(u.Ay,{title:(null===(t=f.mdx)||void 0===t||null===(n=t.frontmatter)||void 0===n?void 0:n.title)||"",titleMode:u.d5,description:(null===(r=f.mdx)||void 0===r||null===(i=r.frontmatter)||void 0===i?void 0:i.summary)||"",image:(null===(l=f.mdx)||void 0===l||null===(o=l.frontmatter)||void 0===o||null===(c=o.cover)||void 0===c||null===(d=c.childImageSharp)||void 0===d||null===(p=d.gatsbyImageData)||void 0===p||null===(g=p.images)||void 0===g||null===(h=g.fallback)||void 0===h?void 0:h.src)||"",type:u.JX}),a.createElement(m,{post:f},w))}},9797:function(e,t,n){"use strict";n.d(t,{$p:function(){return o}});var a=n(6540),s=n(3036),r=n(9016),i=n(6911);const l="info",o="error",c={[l]:a.createElement(s.C,{size:18}),[o]:a.createElement(r.w,{size:18})},d={[l]:"text-blue-600 bg-blue-100",[o]:"text-red-600 bg-red-100"};t.Ay=e=>{const{children:t,type:n}=e;return t?a.createElement("div",{className:`py-3 px-4 rounded-md ${d[n]}`},a.createElement(i.A,null,a.createElement("div",{className:"mr-3"},c[n]),a.createElement("div",{className:"text-sm"},t))):null}},2807:function(e,t,n){"use strict";var a=n(5540),s=n(6540),r=n(9797);let i=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={hasError:!1},n}(0,a.A)(t,e),t.getDerivedStateFromError=function(){return{hasError:!0}};var n=t.prototype;return n.componentDidCatch=function(e,t){console.error(e,t),this.setState({hasError:!0})},n.render=function(){const{children:e}=this.props,{hasError:t}=this.state;return t?s.createElement(r.Ay,{type:r.$p},"Component has crashed"):e},t}(s.Component);t.A=i},7257:function(e,t,n){"use strict";var a=n(6540),s=n(4523);t.A=e=>{const{children:t,className:n=""}=e,r=`mb-6 uppercase font-extrabold ${n}`;return a.createElement(s.A,{level:s.p.h1,className:r},t)}},6835:function(e,t,n){"use strict";n.d(t,{d:function(){return a}});const a=e=>{if("number"!=typeof e)return null;return Math.ceil(1*e)||1}},8453:function(e,t,n){"use strict";n.d(t,{RP:function(){return r}});var a=n(6540);const s=a.createContext({});function r(e){const t=a.useContext(s);return a.useMemo((()=>"function"==typeof e?e(t):{...t,...e}),[t,e])}}}]);
//# sourceMappingURL=component---src-templates-post-tsx-content-file-path-src-posts-2024-system-design-sketches-index-mdx-6324bdd64319471e3c6e.js.map